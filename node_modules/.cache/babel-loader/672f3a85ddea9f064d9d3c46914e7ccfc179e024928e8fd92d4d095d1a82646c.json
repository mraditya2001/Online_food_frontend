{"ast":null,"code":"import _toConsumableArray from\"D:/public/Documents/GitHub/frontend-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/public/Documents/GitHub/frontend-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Accordion,AccordionDetails,AccordionSummary,Button,Checkbox,FormControlLabel,FormGroup,Typography}from\"@mui/material\";import React,{useState}from\"react\";import{useDispatch}from\"react-redux\";import{addItemToCart}from\"../../../State/Customers/Cart/cart.action\";import ExpandMoreIcon from\"@mui/icons-material/ExpandMore\";import{categorizedIngredients}from\"../../util/CategorizeIngredients\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MenuItemCard=function MenuItemCard(_ref){var _Object$keys;var item=_ref.item;var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedIngredients=_useState2[0],setSelectedIngredients=_useState2[1];var handleCheckboxChange=function handleCheckboxChange(itemName){if(selectedIngredients.includes(itemName)){console.log(\"yes\");setSelectedIngredients(selectedIngredients.filter(function(item){return item!==itemName;}));}else{console.log(\"no\");setSelectedIngredients([].concat(_toConsumableArray(selectedIngredients),[itemName]));}};var handleAddItemToCart=function handleAddItemToCart(e){var data={token:localStorage.getItem(\"jwt\"),cartItem:{menuItemId:item.id,quantity:1,ingredients:selectedIngredients}};dispatch(addItemToCart(data));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Accordion,{children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),\"aria-controls\":\"panel1a-content\",id:\"panel1a-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"lg:flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lg:flex items-center lg:space-x-5\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-[7rem] h-[7rem] object-cover\",src:item.images[0],alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 lg:space-y-5 lg:max-w-2xl\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-xl\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",item.price]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:item.description})]})]})})}),/*#__PURE__*/_jsx(AccordionDetails,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddItemToCart,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-5 flex-wrap\",children:(_Object$keys=Object.keys(categorizedIngredients(item===null||item===void 0?void 0:item.ingredients)))===null||_Object$keys===void 0?void 0:_Object$keys.map(function(category){return/*#__PURE__*/_jsxs(\"div\",{className:\"pr-5\",children:[/*#__PURE__*/_jsx(\"p\",{children:category}),/*#__PURE__*/_jsx(FormGroup,{children:categorizedIngredients(item===null||item===void 0?void 0:item.ingredients)[category].map(function(ingredient,index){return/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:selectedIngredients.includes(ingredient.name),onChange:function onChange(){return handleCheckboxChange(ingredient.name);},disabled:!ingredient.inStoke}),label:ingredient.name},ingredient.name);})})]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-5\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",disabled:!item.available,type:\"submit\",children:item.available?\"Add To Cart\":\"Out of stock\"})})]})})]})});};export default MenuItemCard;","map":{"version":3,"names":["Accordion","AccordionDetails","AccordionSummary","Button","Checkbox","FormControlLabel","FormGroup","Typography","React","useState","useDispatch","addItemToCart","ExpandMoreIcon","categorizedIngredients","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MenuItemCard","_ref","_Object$keys","item","dispatch","_useState","_useState2","_slicedToArray","selectedIngredients","setSelectedIngredients","handleCheckboxChange","itemName","includes","console","log","filter","concat","_toConsumableArray","handleAddItemToCart","e","data","token","localStorage","getItem","cartItem","menuItemId","id","quantity","ingredients","children","expandIcon","className","src","images","alt","name","price","description","onSubmit","Object","keys","map","category","ingredient","index","control","checked","onChange","disabled","inStoke","label","variant","available","type"],"sources":["D:/public/Documents/GitHub/frontend-react/src/customers/components/MenuItem/MenuItemCard.jsx"],"sourcesContent":["import {\r\n  Accordion,\r\n  AccordionDetails,\r\n  AccordionSummary,\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addItemToCart } from \"../../../State/Customers/Cart/cart.action\";\r\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\r\nimport { categorizedIngredients } from \"../../util/CategorizeIngredients\";\r\n\r\nconst MenuItemCard = ({ item }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  \r\n\r\n  const [selectedIngredients, setSelectedIngredients] = useState([]);\r\n\r\n  const handleCheckboxChange = (itemName) => {\r\n    if (selectedIngredients.includes(itemName)) {\r\n      console.log(\"yes\");\r\n      setSelectedIngredients(\r\n        selectedIngredients.filter((item) => item !== itemName)\r\n      );\r\n    } else {\r\n      console.log(\"no\");\r\n      setSelectedIngredients([...selectedIngredients, itemName]);\r\n    }\r\n  };\r\n  \r\n  const handleAddItemToCart = (e) => {\r\n    \r\n    const data = {\r\n      token: localStorage.getItem(\"jwt\"),\r\n      cartItem: {\r\n        menuItemId: item.id,\r\n        quantity: 1,\r\n        ingredients:selectedIngredients\r\n      },\r\n    };\r\n    dispatch(addItemToCart(data));\r\n  };\r\n  \r\n\r\n  return (\r\n    <>\r\n      {/* <div className=\"lg:flex items-center justify-between box\">\r\n      <div className=\"lg:flex items-center lg:space-x-5\">\r\n        <img\r\n          className=\"w-[7rem] h-[7rem] object-cover\"\r\n          src={item.imageUrl}\r\n          alt=\"\"\r\n        />\r\n\r\n        <div className=\"space-y-1 lg:space-y-5 lg:max-w-2xl\">\r\n          <p className=\"font-semibold text-xl\">{item.name}</p>\r\n          <p>₹{item.price}</p>\r\n          <p className=\"text-gray-400\">{item.description}</p>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <Button onClick={handleAddItemToCart}>Add To Cart</Button>\r\n      </div>\r\n\r\n     \r\n    </div> */}\r\n      <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <div className=\"lg:flex items-center justify-between\">\r\n            <div className=\"lg:flex items-center lg:space-x-5\">\r\n              <img\r\n                className=\"w-[7rem] h-[7rem] object-cover\"\r\n                src={item.images[0]}\r\n                alt=\"\"\r\n              />\r\n\r\n              <div className=\"space-y-1 lg:space-y-5 lg:max-w-2xl\">\r\n                <p className=\"font-semibold text-xl\">{item.name}</p>\r\n                <p>₹{item.price}</p>\r\n                <p className=\"text-gray-400\">{item.description}</p>\r\n              </div>\r\n            </div>\r\n            {/* <div>\r\n        <Button onClick={handleAddItemToCart}>Add To Cart</Button>\r\n      </div> */}\r\n          </div>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <form onSubmit={handleAddItemToCart} >\r\n            <div className=\"flex gap-5 flex-wrap\">\r\n               {Object.keys(\r\n                          categorizedIngredients(item?.ingredients)\r\n                        )?.map((category) => (\r\n              <div className=\"pr-5\">\r\n                \r\n                <p>{category}</p>\r\n                <FormGroup >\r\n                  {categorizedIngredients(item?.ingredients)[\r\n                                category\r\n                              ].map((ingredient, index) => (\r\n                    <FormControlLabel\r\n                      key={ingredient.name}\r\n                      control={\r\n                        <Checkbox\r\n                          checked={selectedIngredients.includes(\r\n                            ingredient.name\r\n                          )}\r\n                          onChange={() =>\r\n                            handleCheckboxChange(ingredient.name)\r\n                          }\r\n                          disabled={!ingredient.inStoke}\r\n                        />\r\n                      }\r\n                      label={ingredient.name}\r\n                    />\r\n                  ))}\r\n                </FormGroup>\r\n              </div>\r\n            ))}\r\n            </div>\r\n           \r\n\r\n            <div className=\"pt-5\">\r\n              <Button variant=\"contained\" disabled={!item.available} type=\"submit\">\r\n                {item.available?\"Add To Cart\":\"Out of stock\"}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MenuItemCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}