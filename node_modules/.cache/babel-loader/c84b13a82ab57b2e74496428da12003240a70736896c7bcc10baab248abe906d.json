{"ast":null,"code":"import React,{useEffect}from\"react\";import OrdersTable from\"./OrderTable\";import{Card,FormControl,FormControlLabel,Radio,RadioGroup,Typography}from\"@mui/material\";import{useLocation,useNavigate,useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{fetchRestaurantsOrder}from\"../../State/Admin/Order/restaurants.order.action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var orderStatus=[{label:\"Pending\",value:\"PENDING\"},{label:\"Completed\",value:\"COMPLETED\"},// { label: \"Out For Delivery\", value: \"OUT_FOR_DELIVERY\" },\n// { label: \"Delivered\", value: \"DELIVERED\" },\n{label:\"All\",value:\"all\"}];var RestaurantsOrder=function RestaurantsOrder(){var location=useLocation();var navigate=useNavigate();var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var jwt=localStorage.getItem(\"jwt\");var _useSelector=useSelector(function(store){return store;}),restaurant=_useSelector.restaurant,auth=_useSelector.auth;var decodedQueryString=decodeURIComponent(location.search);var searchParams=new URLSearchParams(decodedQueryString);var filterValue=searchParams.get(\"order_status\");useEffect(function(){var _restaurant$usersRest;dispatch(fetchRestaurantsOrder({restaurantId:(_restaurant$usersRest=restaurant.usersRestaurant)===null||_restaurant$usersRest===void 0?void 0:_restaurant$usersRest.id,orderStatus:filterValue,jwt:auth.jwt||jwt}));},[auth.jwt,filterValue]);var handleFilter=function handleFilter(e,value){var searchParams=new URLSearchParams(location.search);if(value===\"all\"){searchParams.delete(\"order_status\");}else searchParams.set(\"order_status\",e.target.value);var query=searchParams.toString();navigate({search:\"?\".concat(query)});};return/*#__PURE__*/_jsxs(\"div\",{className:\"px-2\",children:[/*#__PURE__*/_jsxs(Card,{className:\"p-5\",children:[/*#__PURE__*/_jsx(Typography,{sx:{paddingBottom:\"1rem\"},variant:\"h5\",children:\"Order Status\"}),/*#__PURE__*/_jsx(FormControl,{className:\"py-10\",component:\"fieldset\",children:/*#__PURE__*/_jsx(RadioGroup,{row:true,name:\"category\",value:filterValue?filterValue:\"all\",onChange:handleFilter,children:orderStatus.map(function(item,index){return/*#__PURE__*/_jsx(FormControlLabel,{value:item.value,control:/*#__PURE__*/_jsx(Radio,{}),label:item.label,sx:{color:\"gray\"}},index);})})})]}),/*#__PURE__*/_jsx(OrdersTable,{name:\"All Orders\"})]});};export default RestaurantsOrder;","map":{"version":3,"names":["React","useEffect","OrdersTable","Card","FormControl","FormControlLabel","Radio","RadioGroup","Typography","useLocation","useNavigate","useParams","useDispatch","useSelector","fetchRestaurantsOrder","jsx","_jsx","jsxs","_jsxs","orderStatus","label","value","RestaurantsOrder","location","navigate","dispatch","_useParams","id","jwt","localStorage","getItem","_useSelector","store","restaurant","auth","decodedQueryString","decodeURIComponent","search","searchParams","URLSearchParams","filterValue","get","_restaurant$usersRest","restaurantId","usersRestaurant","handleFilter","e","delete","set","target","query","toString","concat","className","children","sx","paddingBottom","variant","component","row","name","onChange","map","item","index","control","color"],"sources":["D:/public/Documents/GitHub/frontend-react/src/Admin/Orders/RestaurantsOrder.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport OrdersTable from \"./OrderTable\";\r\nimport {\r\n  Card,\r\n  FormControl,\r\n  FormControlLabel,\r\n  Radio,\r\n  RadioGroup,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchRestaurantsOrder } from \"../../State/Admin/Order/restaurants.order.action\";\r\n\r\nconst orderStatus = [\r\n  { label: \"Pending\", value: \"PENDING\" },\r\n  { label: \"Completed\", value: \"COMPLETED\" },\r\n  // { label: \"Out For Delivery\", value: \"OUT_FOR_DELIVERY\" },\r\n  // { label: \"Delivered\", value: \"DELIVERED\" },\r\n  { label: \"All\", value: \"all\" },\r\n];\r\n\r\nconst RestaurantsOrder = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams();\r\n  const jwt = localStorage.getItem(\"jwt\");\r\n  const { restaurant, auth } = useSelector((store) => store);\r\n\r\n  const decodedQueryString = decodeURIComponent(location.search);\r\n  const searchParams = new URLSearchParams(decodedQueryString);\r\n  const filterValue = searchParams.get(\"order_status\");\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      fetchRestaurantsOrder({\r\n        restaurantId: restaurant.usersRestaurant?.id,\r\n        orderStatus: filterValue,\r\n        jwt: auth.jwt || jwt,\r\n      })\r\n    );\r\n  }, [auth.jwt, filterValue]);\r\n\r\n  const handleFilter = (e, value) => {\r\n    const searchParams = new URLSearchParams(location.search);\r\n\r\n    if (value === \"all\") {\r\n      searchParams.delete(\"order_status\");\r\n    } else searchParams.set(\"order_status\", e.target.value);\r\n\r\n    const query = searchParams.toString();\r\n    navigate({ search: `?${query}` });\r\n  };\r\n  \r\n  return (\r\n    <div className=\"px-2\">\r\n      <Card className=\"p-5\">\r\n        <Typography sx={{ paddingBottom: \"1rem\" }} variant=\"h5\">\r\n          Order Status\r\n        </Typography>\r\n        <FormControl className=\"py-10\" component=\"fieldset\">\r\n          <RadioGroup\r\n            row\r\n            name=\"category\"\r\n            value={filterValue ? filterValue : \"all\"}\r\n            onChange={handleFilter}\r\n          >\r\n            {orderStatus.map((item, index) => (\r\n              <FormControlLabel\r\n                key={index}\r\n                value={item.value}\r\n                control={<Radio />}\r\n                label={item.label}\r\n                sx={{ color: \"gray\" }}\r\n              />\r\n            ))}\r\n          </RadioGroup>\r\n        </FormControl>\r\n      </Card>\r\n\r\n      <OrdersTable name={\"All Orders\"} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantsOrder;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}