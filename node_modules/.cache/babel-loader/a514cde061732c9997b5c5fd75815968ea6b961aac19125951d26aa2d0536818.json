{"ast":null,"code":"import _regeneratorRuntime from\"D:/public/Documents/GitHub/frontend-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/public/Documents/GitHub/frontend-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";// actions.js\nimport axios from\"axios\";import{UPDATE_ORDER_STATUS_REQUEST,UPDATE_ORDER_STATUS_SUCCESS,UPDATE_ORDER_STATUS_FAILURE,GET_RESTAURANTS_ORDER_REQUEST,GET_RESTAURANTS_ORDER_SUCCESS,GET_RESTAURANTS_ORDER_FAILURE}from\"./ActionType.js\";import{api}from\"../../../config/api.js\";export var updateOrderStatus=function updateOrderStatus(_ref){var orderId=_ref.orderId,orderStatus=_ref.orderStatus,jwt=_ref.jwt;return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response,updatedOrder;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:UPDATE_ORDER_STATUS_REQUEST});_context.next=4;return api.put(\"/api/admin/orders/\".concat(orderId,\"/\").concat(orderStatus),{},{headers:{Authorization:\"Bearer \".concat(jwt)}});case 4:response=_context.sent;updatedOrder=response.data;console.log(\"udpdated order \",updatedOrder);dispatch({type:UPDATE_ORDER_STATUS_SUCCESS,payload:updatedOrder});_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(\"catch error \",_context.t0);dispatch({type:UPDATE_ORDER_STATUS_FAILURE,error:_context.t0});case 14:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function(_x){return _ref2.apply(this,arguments);};}();};export var fetchRestaurantsOrder=function fetchRestaurantsOrder(_ref3){var restaurantId=_ref3.restaurantId,orderStatus=_ref3.orderStatus,jwt=_ref3.jwt;return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var _yield$api$get,data,orders;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:GET_RESTAURANTS_ORDER_REQUEST});_context2.next=4;return api.get(\"/api/admin/order/restaurant/\".concat(restaurantId),{params:{order_status:orderStatus},headers:{Authorization:\"Bearer \".concat(jwt)}});case 4:_yield$api$get=_context2.sent;data=_yield$api$get.data;orders=data;console.log(\"restaurants order ------ \",orders);dispatch({type:GET_RESTAURANTS_ORDER_SUCCESS,payload:orders});_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:GET_RESTAURANTS_ORDER_FAILURE,error:_context2.t0});case 14:case\"end\":return _context2.stop();}},_callee2,null,[[0,11]]);}));return function(_x2){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","UPDATE_ORDER_STATUS_REQUEST","UPDATE_ORDER_STATUS_SUCCESS","UPDATE_ORDER_STATUS_FAILURE","GET_RESTAURANTS_ORDER_REQUEST","GET_RESTAURANTS_ORDER_SUCCESS","GET_RESTAURANTS_ORDER_FAILURE","api","updateOrderStatus","_ref","orderId","orderStatus","jwt","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","response","updatedOrder","wrap","_callee$","_context","prev","next","type","put","concat","headers","Authorization","sent","data","console","log","payload","t0","error","stop","_x","apply","arguments","fetchRestaurantsOrder","_ref3","restaurantId","_ref4","_callee2","_yield$api$get","orders","_callee2$","_context2","get","params","order_status","_x2"],"sources":["D:/public/Documents/GitHub/frontend-react/src/State/Admin/Order/restaurants.order.action.js"],"sourcesContent":["// actions.js\r\nimport axios from \"axios\";\r\nimport {\r\n  UPDATE_ORDER_STATUS_REQUEST,\r\n  UPDATE_ORDER_STATUS_SUCCESS,\r\n  UPDATE_ORDER_STATUS_FAILURE,\r\n  GET_RESTAURANTS_ORDER_REQUEST,\r\n  GET_RESTAURANTS_ORDER_SUCCESS,\r\n  GET_RESTAURANTS_ORDER_FAILURE,\r\n} from \"./ActionType.js\";\r\nimport { api } from \"../../../config/api.js\";\r\n\r\nexport const updateOrderStatus = ({orderId,orderStatus,jwt}) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({ type: UPDATE_ORDER_STATUS_REQUEST });\r\n\r\n      const response = await api.put(\r\n        `/api/admin/orders/${orderId}/${orderStatus}`,{},{\r\n          headers: {\r\n            Authorization: `Bearer ${jwt}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      const updatedOrder = response.data;\r\n\r\n      console.log(\"udpdated order \", updatedOrder);\r\n\r\n      dispatch({\r\n        type: UPDATE_ORDER_STATUS_SUCCESS,\r\n        payload: updatedOrder,\r\n      });\r\n    } catch (error) {\r\n      console.log(\"catch error \", error);\r\n      dispatch({ type: UPDATE_ORDER_STATUS_FAILURE, error });\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchRestaurantsOrder = ({restaurantId,orderStatus,jwt}) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({ type: GET_RESTAURANTS_ORDER_REQUEST });\r\n\r\n      const { data } = await api.get(\r\n        `/api/admin/order/restaurant/${restaurantId}`,{\r\n          params: { order_status:orderStatus},\r\n          headers: {\r\n            Authorization: `Bearer ${jwt}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      const orders = data;\r\n      console.log(\"restaurants order ------ \", orders);\r\n      dispatch({\r\n        type: GET_RESTAURANTS_ORDER_SUCCESS,\r\n        payload: orders,\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: GET_RESTAURANTS_ORDER_FAILURE, error });\r\n    }\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}