{"ast":null,"code":"import _regeneratorRuntime from\"D:/public/Documents/GitHub/frontend-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/public/Documents/GitHub/frontend-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{api}from\"../../../config/api\";import{createOrderFailure,createOrderRequest,createOrderSuccess,getUsersOrdersFailure,getUsersOrdersRequest,getUsersOrdersSuccess}from\"./ActionCreators\";import{GET_USERS_NOTIFICATION_FAILURE,GET_USERS_NOTIFICATION_SUCCESS}from\"./ActionTypes\";export var createOrder=function createOrder(reqData){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var _yield$api$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(createOrderRequest());_context.prev=1;_context.next=4;return api.post('/api/order',reqData.order,{headers:{Authorization:\"Bearer \".concat(reqData.jwt)}});case 4:_yield$api$post=_context.sent;data=_yield$api$post.data;if(data.payment_url){window.location.href=data.payment_url;}console.log(\"created order data\",data);dispatch(createOrderSuccess(data));_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(\"error \",_context.t0);dispatch(createOrderFailure(_context.t0));case 15:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getUsersOrders=function getUsersOrders(jwt){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var _yield$api$get,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch(getUsersOrdersRequest());_context2.prev=1;_context2.next=4;return api.get(\"/api/order/user\",{headers:{Authorization:\"Bearer \".concat(jwt)}});case 4:_yield$api$get=_context2.sent;data=_yield$api$get.data;console.log(\"users order \",data);dispatch(getUsersOrdersSuccess(data));_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);dispatch(getUsersOrdersFailure(_context2.t0));case 13:case\"end\":return _context2.stop();}},_callee2,null,[[1,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getUsersNotificationAction=function getUsersNotificationAction(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var _yield$api$get2,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:dispatch(createOrderRequest());_context3.prev=1;_context3.next=4;return api.get('/api/notifications');case 4:_yield$api$get2=_context3.sent;data=_yield$api$get2.data;console.log(\"all notifications \",data);dispatch({type:GET_USERS_NOTIFICATION_SUCCESS,payload:data});_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](1);console.log(\"error \",_context3.t0);dispatch({type:GET_USERS_NOTIFICATION_FAILURE,payload:_context3.t0});case 14:case\"end\":return _context3.stop();}},_callee3,null,[[1,10]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["api","createOrderFailure","createOrderRequest","createOrderSuccess","getUsersOrdersFailure","getUsersOrdersRequest","getUsersOrdersSuccess","GET_USERS_NOTIFICATION_FAILURE","GET_USERS_NOTIFICATION_SUCCESS","createOrder","reqData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","_yield$api$post","data","wrap","_callee$","_context","prev","next","post","order","headers","Authorization","concat","jwt","sent","payment_url","window","location","href","console","log","t0","stop","_x","apply","arguments","getUsersOrders","_ref2","_callee2","_yield$api$get","_callee2$","_context2","get","_x2","getUsersNotificationAction","_ref3","_callee3","_yield$api$get2","_callee3$","_context3","type","payload","_x3"],"sources":["D:/public/Documents/GitHub/frontend-react/src/State/Customers/Orders/Action.js"],"sourcesContent":["import { api } from \"../../../config/api\";\r\nimport { createOrderFailure, createOrderRequest, createOrderSuccess, getUsersOrdersFailure, getUsersOrdersRequest, getUsersOrdersSuccess } from \"./ActionCreators\";\r\nimport { GET_USERS_NOTIFICATION_FAILURE, GET_USERS_NOTIFICATION_SUCCESS } from \"./ActionTypes\";\r\n\r\n\r\nexport const createOrder = (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch(createOrderRequest());\r\n    try {\r\n      const {data} = await api.post('/api/order', reqData.order,{\r\n        headers: {\r\n            Authorization: `Bearer ${reqData.jwt}`,\r\n          },\r\n      });\r\n      if(data.payment_url){\r\n        window.location.href=data.payment_url;\r\n      }\r\n      console.log(\"created order data\",data)\r\n      dispatch(createOrderSuccess(data));\r\n    } catch (error) {\r\n      console.log(\"error \",error)\r\n      dispatch(createOrderFailure(error));\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const getUsersOrders = (jwt) => {\r\n  return async (dispatch) => {\r\n    dispatch(getUsersOrdersRequest());\r\n    try {\r\n      const {data} = await api.get(`/api/order/user`,{\r\n        headers: {\r\n            Authorization: `Bearer ${jwt}`,\r\n          },\r\n      });\r\n      console.log(\"users order \",data)\r\n      dispatch(getUsersOrdersSuccess(data));\r\n    } catch (error) {\r\n      dispatch(getUsersOrdersFailure(error));\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const getUsersNotificationAction = () => {\r\n  return async (dispatch) => {\r\n    dispatch(createOrderRequest());\r\n    try {\r\n      const {data} = await api.get('/api/notifications');\r\n     \r\n      console.log(\"all notifications \",data)\r\n      dispatch({type:GET_USERS_NOTIFICATION_SUCCESS,payload:data});\r\n    } catch (error) {\r\n      console.log(\"error \",error)\r\n      dispatch({type:GET_USERS_NOTIFICATION_FAILURE,payload:error});\r\n    }\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}