{"ast":null,"code":"import { api } from \"../../../config/api\";\nimport { findCartFailure, findCartRequest, findCartSuccess, getAllCartItemsFailure, getAllCartItemsRequest, getAllCartItemsSuccess } from \"./ActionCreators\";\nimport { ADD_ITEM_TO_CART_FAILURE, ADD_ITEM_TO_CART_REQUEST, ADD_ITEM_TO_CART_SUCCESS, CLEARE_CART_FAILURE, CLEARE_CART_REQUEST, CLEARE_CART_SUCCESS, REMOVE_CARTITEM_FAILURE, REMOVE_CARTITEM_REQUEST, REMOVE_CARTITEM_SUCCESS, UPDATE_CARTITEM_FAILURE, UPDATE_CARTITEM_REQUEST, UPDATE_CARTITEM_SUCCESS } from \"./ActionTypes\";\nexport const findCart = token => {\n  return async dispatch => {\n    dispatch(findCartRequest());\n    try {\n      const response = await api.get(`/api/cart/`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch(findCartSuccess(response.data));\n    } catch (error) {\n      dispatch(findCartFailure(error));\n    }\n  };\n};\nexport const getAllCartItems = reqData => {\n  return async dispatch => {\n    dispatch(getAllCartItemsRequest());\n    try {\n      const response = await api.get(`/api/carts/${reqData.cartId}/items`, {\n        headers: {\n          Authorization: `Bearer ${reqData.token}`\n        }\n      });\n      dispatch(getAllCartItemsSuccess(response.data));\n    } catch (error) {\n      dispatch(getAllCartItemsFailure(error));\n    }\n  };\n};\nexport const addItemToCart = reqData => {\n  return async dispatch => {\n    dispatch({\n      type: ADD_ITEM_TO_CART_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.put(`/api/cart/add`, reqData.cartItem, {\n        headers: {\n          Authorization: `Bearer ${reqData.token}`\n        }\n      });\n      console.log(\"add item to cart \", data);\n      dispatch({\n        type: ADD_ITEM_TO_CART_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.log(\"catch error \", error);\n      dispatch({\n        type: ADD_ITEM_TO_CART_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const updateCartItem = reqData => {\n  return async dispatch => {\n    dispatch({\n      type: UPDATE_CARTITEM_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.put(`/api/cart-item/update`, reqData.data, {\n        headers: {\n          Authorization: `Bearer ${reqData.jwt}`\n        }\n      });\n      console.log(\"update cartItem \", data);\n      dispatch({\n        type: UPDATE_CARTITEM_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.log(\"catch error \", error);\n      dispatch({\n        type: UPDATE_CARTITEM_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const removeCartItem = ({\n  cartItemId,\n  jwt\n}) => {\n  return async dispatch => {\n    dispatch({\n      type: REMOVE_CARTITEM_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.delete(`/api/cart-item/${cartItemId}/remove`, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"remove cartItem \", data);\n      dispatch({\n        type: REMOVE_CARTITEM_SUCCESS,\n        payload: cartItemId\n      });\n    } catch (error) {\n      console.log(\"catch error \", error);\n      dispatch({\n        type: REMOVE_CARTITEM_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const clearCartAction = () => {\n  return async dispatch => {\n    dispatch({\n      type: CLEARE_CART_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.put(`/api/cart/clear`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      });\n      dispatch({\n        type: CLEARE_CART_SUCCESS,\n        payload: data\n      });\n      console.log(\"clear cart \", data);\n    } catch (error) {\n      console.log(\"catch error \", error);\n      dispatch({\n        type: CLEARE_CART_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};","map":{"version":3,"names":["api","findCartFailure","findCartRequest","findCartSuccess","getAllCartItemsFailure","getAllCartItemsRequest","getAllCartItemsSuccess","ADD_ITEM_TO_CART_FAILURE","ADD_ITEM_TO_CART_REQUEST","ADD_ITEM_TO_CART_SUCCESS","CLEARE_CART_FAILURE","CLEARE_CART_REQUEST","CLEARE_CART_SUCCESS","REMOVE_CARTITEM_FAILURE","REMOVE_CARTITEM_REQUEST","REMOVE_CARTITEM_SUCCESS","UPDATE_CARTITEM_FAILURE","UPDATE_CARTITEM_REQUEST","UPDATE_CARTITEM_SUCCESS","findCart","token","dispatch","response","get","headers","Authorization","data","error","getAllCartItems","reqData","cartId","addItemToCart","type","put","cartItem","console","log","payload","message","updateCartItem","jwt","removeCartItem","cartItemId","delete","clearCartAction","localStorage","getItem"],"sources":["D:/public/Downloads/food-ordering-project-2024-02-07-03-39-35/Source/frontend-react/src/State/Customers/Cart/cart.action.js"],"sourcesContent":["\r\nimport { api } from \"../../../config/api\";\r\nimport {\r\n  findCartFailure,\r\n  findCartRequest,\r\n  findCartSuccess,\r\n  getAllCartItemsFailure,\r\n  getAllCartItemsRequest,\r\n  getAllCartItemsSuccess,\r\n} from \"./ActionCreators\";\r\nimport { ADD_ITEM_TO_CART_FAILURE, ADD_ITEM_TO_CART_REQUEST, ADD_ITEM_TO_CART_SUCCESS, CLEARE_CART_FAILURE, CLEARE_CART_REQUEST, CLEARE_CART_SUCCESS, REMOVE_CARTITEM_FAILURE, REMOVE_CARTITEM_REQUEST, REMOVE_CARTITEM_SUCCESS, UPDATE_CARTITEM_FAILURE, UPDATE_CARTITEM_REQUEST, UPDATE_CARTITEM_SUCCESS } from \"./ActionTypes\";\r\n\r\nexport const findCart = (token) => {\r\n  return async (dispatch) => {\r\n    dispatch(findCartRequest());\r\n    try {\r\n      const response = await api.get(`/api/cart/`,{\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n      });\r\n      dispatch(findCartSuccess(response.data));\r\n    } catch (error) {\r\n      dispatch(findCartFailure(error));\r\n    }\r\n  };\r\n};\r\n\r\nexport const getAllCartItems = (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch(getAllCartItemsRequest());\r\n    try {\r\n      const response = await api.get(`/api/carts/${reqData.cartId}/items`,{\r\n        headers: {\r\n            Authorization: `Bearer ${reqData.token}`,\r\n          },\r\n      });\r\n      dispatch(getAllCartItemsSuccess(response.data));\r\n    } catch (error) {\r\n      dispatch(getAllCartItemsFailure(error));\r\n    }\r\n  };\r\n};\r\n\r\nexport const addItemToCart= (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch({type:ADD_ITEM_TO_CART_REQUEST});\r\n    try {\r\n      const {data} = await api.put(`/api/cart/add`,reqData.cartItem,{\r\n        headers: {\r\n            Authorization: `Bearer ${reqData.token}`,\r\n          },\r\n      });\r\n      console.log(\"add item to cart \",data)\r\n      dispatch({type:ADD_ITEM_TO_CART_SUCCESS, payload:data});\r\n      \r\n    } catch (error) {\r\n      console.log(\"catch error \",error)\r\n      dispatch({type:ADD_ITEM_TO_CART_FAILURE,payload:error.message});\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateCartItem= (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch({type:UPDATE_CARTITEM_REQUEST});\r\n    try {\r\n      const {data} = await api.put(`/api/cart-item/update`,reqData.data,{\r\n        headers: {\r\n          Authorization: `Bearer ${reqData.jwt}`,\r\n        },\r\n      });\r\n      console.log(\"update cartItem \",data)\r\n      dispatch({type:UPDATE_CARTITEM_SUCCESS, payload:data});\r\n      \r\n    } catch (error) {\r\n      console.log(\"catch error \",error)\r\n      dispatch({type:UPDATE_CARTITEM_FAILURE,payload:error.message});\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeCartItem= ({cartItemId,jwt}) => {\r\n  return async (dispatch) => {\r\n    dispatch({type:REMOVE_CARTITEM_REQUEST});\r\n    try {\r\n      const {data} = await api.delete(`/api/cart-item/${cartItemId}/remove`,{\r\n        headers: {\r\n          Authorization: `Bearer ${jwt}`,\r\n        },\r\n      });\r\n      console.log(\"remove cartItem \",data)\r\n      dispatch({type:REMOVE_CARTITEM_SUCCESS, payload:cartItemId});\r\n      \r\n    } catch (error) {\r\n      console.log(\"catch error \",error)\r\n      dispatch({type:REMOVE_CARTITEM_FAILURE,payload:error.message});\r\n    }\r\n  };\r\n};\r\n\r\nexport const clearCartAction= () => {\r\n  return async (dispatch) => {\r\n    dispatch({type:CLEARE_CART_REQUEST});\r\n    try {\r\n      const {data} = await api.put(`/api/cart/clear`,{},{\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n        },\r\n      });\r\n     \r\n      dispatch({type:CLEARE_CART_SUCCESS, payload:data});\r\n      console.log(\"clear cart \",data)\r\n    } catch (error) {\r\n      console.log(\"catch error \",error)\r\n      dispatch({type:CLEARE_CART_FAILURE,payload:error.message});\r\n    }\r\n  };\r\n};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}