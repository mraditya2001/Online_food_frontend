{"ast":null,"code":"import { api } from \"../../../config/api\";\nimport { createMenuItemFailure, createMenuItemRequest, createMenuItemSuccess, deleteMenuItemFailure, deleteMenuItemRequest, deleteMenuItemSuccess, getMenuItemsByRestaurantIdFailure, getMenuItemsByRestaurantIdRequest, getMenuItemsByRestaurantIdSuccess } from \"./ActionCreators\";\nimport { DELETE_MENU_ITEM_FAILURE, DELETE_MENU_ITEM_REQUEST, DELETE_MENU_ITEM_SUCCESS, SEARCH_MENU_ITEM_FAILURE, SEARCH_MENU_ITEM_REQUEST, SEARCH_MENU_ITEM_SUCCESS, UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE, UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST, UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS } from \"./ActionType\";\n\n// localhost:5454/api/admin/ingredients/food/16\n\nexport const createMenuItem = ({\n  menu,\n  jwt\n}) => {\n  return async dispatch => {\n    dispatch(createMenuItemRequest());\n    try {\n      const {\n        data\n      } = await api.post(\"api/admin/food\", menu, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"created menu \", data);\n      dispatch(createMenuItemSuccess(data));\n    } catch (error) {\n      console.log(\"catch error \", error);\n      dispatch(createMenuItemFailure(error));\n    }\n  };\n};\nexport const getMenuItemsByRestaurantId = reqData => {\n  return async dispatch => {\n    dispatch(getMenuItemsByRestaurantIdRequest());\n    try {\n      const {\n        data\n      } = await api.get(`/api/food/restaurant/${reqData.restaurantId}?vegetarian=${reqData.vegetarian}&nonveg=${reqData.nonveg}\n        &seasonal=${reqData.seasonal}&food_category=${reqData.foodCategory}`, {\n        headers: {\n          Authorization: `Bearer ${reqData.jwt}`\n        }\n      });\n      console.log(\"menu item by restaurants \", data);\n      dispatch(getMenuItemsByRestaurantIdSuccess(data));\n    } catch (error) {\n      dispatch(getMenuItemsByRestaurantIdFailure(error));\n    }\n  };\n};\nexport const searchMenuItem = ({\n  keyword,\n  jwt\n}) => {\n  return async dispatch => {\n    dispatch({\n      type: SEARCH_MENU_ITEM_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.get(`api/food/search?name=${keyword}`, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"data ----------- \", data);\n      dispatch({\n        type: SEARCH_MENU_ITEM_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: SEARCH_MENU_ITEM_FAILURE\n      });\n    }\n  };\n};\nexport const getAllIngredientsOfMenuItem = reqData => {\n  return async dispatch => {\n    dispatch(getMenuItemsByRestaurantIdRequest());\n    try {\n      const {\n        data\n      } = await api.get(`api/food/restaurant/${reqData.restaurantId}`, {\n        headers: {\n          Authorization: `Bearer ${reqData.jwt}`\n        }\n      });\n      console.log(\"menu item by restaurants \", data);\n      dispatch(getMenuItemsByRestaurantIdSuccess(data));\n    } catch (error) {\n      dispatch(getMenuItemsByRestaurantIdFailure(error));\n    }\n  };\n};\nexport const updateMenuItemsAvailability = ({\n  foodId,\n  jwt\n}) => {\n  return async dispatch => {\n    dispatch({\n      type: UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.put(`/api/admin/food/${foodId}`, {}, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"update menuItems Availability \", data);\n      dispatch({\n        type: UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.log(\"error \", error);\n      dispatch({\n        type: UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const deleteFoodAction = ({\n  foodId,\n  jwt\n}) => async dispatch => {\n  dispatch({\n    type: DELETE_MENU_ITEM_REQUEST\n  });\n  try {\n    const {\n      data\n    } = await api.delete(`/api/admin/food/${foodId}`, {\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    });\n    console.log(\"delete food \", data);\n    dispatch({\n      type: DELETE_MENU_ITEM_SUCCESS,\n      payload: foodId\n    });\n  } catch (error) {\n    dispatch({\n      type: DELETE_MENU_ITEM_FAILURE,\n      payload: error\n    });\n  }\n};","map":{"version":3,"names":["api","createMenuItemFailure","createMenuItemRequest","createMenuItemSuccess","deleteMenuItemFailure","deleteMenuItemRequest","deleteMenuItemSuccess","getMenuItemsByRestaurantIdFailure","getMenuItemsByRestaurantIdRequest","getMenuItemsByRestaurantIdSuccess","DELETE_MENU_ITEM_FAILURE","DELETE_MENU_ITEM_REQUEST","DELETE_MENU_ITEM_SUCCESS","SEARCH_MENU_ITEM_FAILURE","SEARCH_MENU_ITEM_REQUEST","SEARCH_MENU_ITEM_SUCCESS","UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE","UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST","UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS","createMenuItem","menu","jwt","dispatch","data","post","headers","Authorization","console","log","error","getMenuItemsByRestaurantId","reqData","get","restaurantId","vegetarian","nonveg","seasonal","foodCategory","searchMenuItem","keyword","type","payload","getAllIngredientsOfMenuItem","updateMenuItemsAvailability","foodId","put","deleteFoodAction","delete"],"sources":["D:/public/Downloads/food-ordering-project-2024-02-07-03-39-35/Source/frontend-react/src/State/Customers/Menu/menu.action.js"],"sourcesContent":["import { api } from \"../../../config/api\";\r\nimport {\r\n  createMenuItemFailure,\r\n  createMenuItemRequest,\r\n  createMenuItemSuccess,\r\n  deleteMenuItemFailure,\r\n  deleteMenuItemRequest,\r\n  deleteMenuItemSuccess,\r\n  getMenuItemsByRestaurantIdFailure,\r\n  getMenuItemsByRestaurantIdRequest,\r\n  getMenuItemsByRestaurantIdSuccess,\r\n} from \"./ActionCreators\";\r\nimport {\r\n  DELETE_MENU_ITEM_FAILURE,\r\n  DELETE_MENU_ITEM_REQUEST,\r\n  DELETE_MENU_ITEM_SUCCESS,\r\n  SEARCH_MENU_ITEM_FAILURE,\r\n  SEARCH_MENU_ITEM_REQUEST,\r\n  SEARCH_MENU_ITEM_SUCCESS,\r\n  UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE,\r\n  UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST,\r\n  UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS,\r\n} from \"./ActionType\";\r\n\r\n// localhost:5454/api/admin/ingredients/food/16\r\n\r\nexport const createMenuItem = ({menu,jwt}) => {\r\n  return async (dispatch) => {\r\n    dispatch(createMenuItemRequest());\r\n    try {\r\n      const { data } = await api.post(\"api/admin/food\", menu,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${jwt}`,\r\n        },\r\n      });\r\n      console.log(\"created menu \", data);\r\n      dispatch(createMenuItemSuccess(data));\r\n    } catch (error) {\r\n      console.log(\"catch error \", error);\r\n      dispatch(createMenuItemFailure(error));\r\n    }\r\n  };\r\n};\r\n\r\nexport const getMenuItemsByRestaurantId = (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch(getMenuItemsByRestaurantIdRequest());\r\n    try {\r\n      const { data } = await api.get(\r\n        `/api/food/restaurant/${reqData.restaurantId}?vegetarian=${reqData.vegetarian}&nonveg=${reqData.nonveg}\r\n        &seasonal=${reqData.seasonal}&food_category=${reqData.foodCategory}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${reqData.jwt}`,\r\n          },\r\n        }\r\n      );\r\n      console.log(\"menu item by restaurants \", data);\r\n      dispatch(getMenuItemsByRestaurantIdSuccess(data));\r\n    } catch (error) {\r\n      dispatch(getMenuItemsByRestaurantIdFailure(error));\r\n    }\r\n  };\r\n};\r\n\r\nexport const searchMenuItem = ({keyword,jwt}) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: SEARCH_MENU_ITEM_REQUEST });\r\n    try {\r\n      const { data } = await api.get(`api/food/search?name=${keyword}`,{\r\n        headers: {\r\n          Authorization: `Bearer ${jwt}`,\r\n        },\r\n      });\r\n      console.log(\"data ----------- \", data);\r\n      dispatch({ type: SEARCH_MENU_ITEM_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({ type: SEARCH_MENU_ITEM_FAILURE });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getAllIngredientsOfMenuItem = (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch(getMenuItemsByRestaurantIdRequest());\r\n    try {\r\n      const { data } = await api.get(\r\n        `api/food/restaurant/${reqData.restaurantId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${reqData.jwt}`,\r\n          },\r\n        }\r\n      );\r\n      console.log(\"menu item by restaurants \", data);\r\n      dispatch(getMenuItemsByRestaurantIdSuccess(data));\r\n    } catch (error) {\r\n      dispatch(getMenuItemsByRestaurantIdFailure(error));\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateMenuItemsAvailability = ({foodId,jwt}) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST });\r\n    try {\r\n      const { data } = await api.put(`/api/admin/food/${foodId}`, {},{\r\n        headers: {\r\n          Authorization: `Bearer ${jwt}`,\r\n        },\r\n      });\r\n      console.log(\"update menuItems Availability \", data);\r\n      dispatch({ type: UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      console.log(\"error \",error)\r\n      dispatch({\r\n        type: UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE,\r\n        payload: error,\r\n      });\r\n    }\r\n};\r\n};\r\n\r\nexport const deleteFoodAction = ({foodId,jwt}) => async (dispatch) => {\r\n  dispatch({ type: DELETE_MENU_ITEM_REQUEST });\r\n  try {\r\n    const { data } = await api.delete(`/api/admin/food/${foodId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${jwt}`,\r\n      },\r\n    });\r\n    console.log(\"delete food \", data);\r\n    dispatch({ type: DELETE_MENU_ITEM_SUCCESS, payload: foodId });\r\n  } catch (error) {\r\n    dispatch({ type: DELETE_MENU_ITEM_FAILURE, payload: error });\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}