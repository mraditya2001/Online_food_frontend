{"ast":null,"code":"import _toConsumableArray from\"D:/public/Documents/GitHub/frontend-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"D:/public/Documents/GitHub/frontend-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{isPresentInFavorites}from\"../../config/logic\";import{REGISTER_REQUEST,REGISTER_SUCCESS,REGISTER_FAILURE,LOGIN_REQUEST,LOGIN_SUCCESS,LOGIN_FAILURE,GET_USER_REQUEST,GET_USER_SUCCESS,GET_USER_FAILURE,LOGOUT,ADD_TO_FAVORITES_SUCCESS,RESET_PASSWORD_REQUEST,REQUEST_RESET_PASSWORD_REQUEST,REQUEST_RESET_PASSWORD_SUCCESS,REQUEST_RESET_PASSWORD_FAILURE}from\"./ActionType\";var initialState={user:null,isLoading:false,error:null,jwt:null,favorites:[],success:null};var authReducer=function authReducer(){var _action$payload;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case REGISTER_REQUEST:case LOGIN_REQUEST:case GET_USER_REQUEST:case RESET_PASSWORD_REQUEST:case REQUEST_RESET_PASSWORD_REQUEST:return _objectSpread(_objectSpread({},state),{},{isLoading:true,error:null,success:null});case REGISTER_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isLoading:false,jwt:action.payload,success:\"Register Success\"});case ADD_TO_FAVORITES_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isLoading:false,error:null,// favorites:[action.payload,...state.favorites],\nfavorites:isPresentInFavorites(state.favorites,action.payload)?state.favorites.filter(function(item){return item.id!==action.payload.id;}):[action.payload].concat(_toConsumableArray(state.favorites))});case LOGIN_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isLoading:false,jwt:action.payload,success:\"Login success\"});case GET_USER_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isLoading:false,user:action.payload,favorites:action.payload.favorites});case REQUEST_RESET_PASSWORD_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isLoading:false,success:(_action$payload=action.payload)===null||_action$payload===void 0?void 0:_action$payload.message});case REGISTER_FAILURE:case LOGIN_FAILURE:case GET_USER_FAILURE:case REQUEST_RESET_PASSWORD_FAILURE:return _objectSpread(_objectSpread({},state),{},{isLoading:false,error:action.payload});case LOGOUT:localStorage.removeItem(\"jwt\");return _objectSpread(_objectSpread({},state),{},{jwt:null,user:null,success:\"logout success\"});default:return state;}};export default authReducer;","map":{"version":3,"names":["isPresentInFavorites","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","GET_USER_REQUEST","GET_USER_SUCCESS","GET_USER_FAILURE","LOGOUT","ADD_TO_FAVORITES_SUCCESS","RESET_PASSWORD_REQUEST","REQUEST_RESET_PASSWORD_REQUEST","REQUEST_RESET_PASSWORD_SUCCESS","REQUEST_RESET_PASSWORD_FAILURE","initialState","user","isLoading","error","jwt","favorites","success","authReducer","_action$payload","state","arguments","length","undefined","action","type","_objectSpread","payload","filter","item","id","concat","_toConsumableArray","message","localStorage","removeItem"],"sources":["D:/public/Documents/GitHub/frontend-react/src/State/Authentication/Reducer.js"],"sourcesContent":["import { isPresentInFavorites } from \"../../config/logic\";\r\nimport {\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAILURE,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  GET_USER_REQUEST,\r\n  GET_USER_SUCCESS,\r\n  GET_USER_FAILURE,\r\n  LOGOUT,\r\n  ADD_TO_FAVORITES_SUCCESS,\r\n  RESET_PASSWORD_REQUEST,\r\n  REQUEST_RESET_PASSWORD_REQUEST,\r\n  REQUEST_RESET_PASSWORD_SUCCESS,\r\n  REQUEST_RESET_PASSWORD_FAILURE,\r\n} from \"./ActionType\";\r\n\r\nconst initialState = {\r\n  user: null,\r\n  isLoading: false,\r\n  error: null,\r\n  jwt: null,\r\n  favorites: [],\r\n  success: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case REGISTER_REQUEST:\r\n    case LOGIN_REQUEST:\r\n    case GET_USER_REQUEST:\r\n    case RESET_PASSWORD_REQUEST:\r\n    case REQUEST_RESET_PASSWORD_REQUEST:\r\n      return { ...state, isLoading: true, error: null, success: null };\r\n\r\n    case REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        jwt: action.payload,\r\n        success: \"Register Success\",\r\n      };\r\n\r\n    case ADD_TO_FAVORITES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: null,\r\n        // favorites:[action.payload,...state.favorites],\r\n        favorites: isPresentInFavorites(state.favorites, action.payload)\r\n          ? state.favorites.filter((item) => item.id !== action.payload.id)\r\n          : [action.payload, ...state.favorites],\r\n      };\r\n\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        jwt: action.payload,\r\n        success: \"Login success\",\r\n      };\r\n\r\n    case GET_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        user: action.payload,\r\n        favorites: action.payload.favorites,\r\n      };\r\n      \r\n    case REQUEST_RESET_PASSWORD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        success: action.payload?.message,\r\n      };\r\n\r\n    case REGISTER_FAILURE:\r\n    case LOGIN_FAILURE:\r\n    case GET_USER_FAILURE:\r\n    case REQUEST_RESET_PASSWORD_FAILURE:\r\n      return { ...state, isLoading: false, error: action.payload };\r\n\r\n    case LOGOUT:\r\n      localStorage.removeItem(\"jwt\");\r\n      return { ...state, jwt: null, user: null, success: \"logout success\" };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}